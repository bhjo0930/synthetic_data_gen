<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>페르소나 검색 Playground</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>페르소나 검색 Playground</h1>

        <nav>
            <a href="/generate.html">페르소나 생성</a> |
            <a href="/search.html">페르소나 검색</a>
        </nav>

        <section class="search-section">
            <h2>페르소나 검색</h2>
            <div class="filter-grid">
                <div class="input-group">
                    <label for="search_age_min">나이 (최소):</label>
                    <input type="number" id="search_age_min" placeholder="예: 25">
                </div>
                <div class="input-group">
                    <label for="search_age_max">나이 (최대):</label>
                    <input type="number" id="search_age_max" placeholder="예: 35">
                </div>
                <div class="input-group">
                    <label for="search_gender">성별:</label>
                    <select id="search_gender">
                        <option value="">선택 안 함</option>
                        <option value="남성">남성</option>
                        <option value="여성">여성</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="search_location">지역:</label>
                    <input type="text" id="search_location" placeholder="예: 서울">
                </div>
                <div class="input-group">
                    <label for="search_occupation">직업:</label>
                    <input type="text" id="search_occupation" placeholder="예: 사무직">
                </div>
                <div class="input-group">
                    <label for="search_education">교육 수준:</label>
                    <select id="search_education">
                        <option value="">선택 안 함</option>
                        <option value="초졸">초졸</option>
                        <option value="중졸">중졸</option>
                        <option value="고졸">고졸</option>
                        <option value="대졸">대졸</option>
                        <option value="대학원졸">대학원졸</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="search_income_bracket">소득 분위:</label>
                    <select id="search_income_bracket">
                        <option value="">선택 안 함</option>
                        <option value="하위 20%">하위 20%</option>
                        <option value="20-40%">20-40%</option>
                        <option value="40-60%">40-60%</option>
                        <option value="60-80%">60-80%</option>
                        <option value="상위 20%">상위 20%</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="search_marital_status">결혼 상태:</label>
                    <select id="search_marital_status">
                        <option value="">선택 안 함</option>
                        <option value="미혼">미혼</option>
                        <option value="기혼">기혼</option>
                        <option value="이혼">이혼</option>
                        <option value="사별">사별</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="search_interests">관심사 (부분 일치):</label>
                    <input type="text" id="search_interests" placeholder="예: 여행">
                </div>
                <div class="input-group">
                    <label for="search_personality_trait">성격 특성 (부분 일치):</label>
                    <input type="text" id="search_personality_trait" placeholder="예: 호기심 많음">
                </div>
                <div class="input-group">
                    <label for="search_value">가치관 (부분 일치):</label>
                    <input type="text" id="search_value" placeholder="예: 가족">
                </div>
                <div class="input-group">
                    <label for="search_lifestyle_attribute">라이프스타일 (부분 일치):</label>
                    <input type="text" id="search_lifestyle_attribute" placeholder="예: 워라밸 중시">
                </div>
                <div class="input-group">
                    <label for="search_media_consumption">미디어 소비 (부분 일치):</label>
                    <input type="text" id="search_media_consumption" placeholder="예: 유튜브">
                </div>
                <div class="input-group">
                    <label for="search_shopping_habit">쇼핑 습관 (부분 일치):</label>
                    <input type="text" id="search_shopping_habit" placeholder="예: 온라인 쇼핑">
                </div>
                <div class="input-group">
                    <label for="search_social_relations">사회적 관계 (부분 일치):</label>
                    <input type="text" id="search_social_relations" placeholder="예: 선후배">
                </div>
            </div>
            <button id="searchBtn">페르소나 검색</button>
            
            <div class="chart-container">
                <h3>검색 결과 통계</h3>
                <div class="chart-row">
                    <div class="chart-item"><canvas id="ageChart"></canvas></div>
                    <div class="chart-item"><canvas id="genderChart"></canvas></div>
                </div>
                <div class="chart-row">
                    <div class="chart-item"><canvas id="locationChart"></canvas></div>
                    <div class="chart-item"><canvas id="occupationChart"></canvas></div>
                </div>
            </div>

            <div id="searchResult" class="persona-grid"></div>
        </section>

        <section class="management-section">
            <h2>데이터 관리</h2>
            <button id="deleteAllBtn">모든 페르소나 삭제</button>
            <div id="deleteResult" class="result-box"></div>
        </section>
    </div>

    <script src="/static/search_script.js"></script>
</body>
</html>
