# Virtual People 생성 프로그램

## 🚀 프로젝트 개요

이 프로젝트는 사회 현상 시뮬레이션을 위해 다양한 인구통계학적, 심리적, 문화적 특성을 가진 가상의 인물(페르소나) 데이터를 생성하는 프로그램입니다. 개인정보 보호를 유지하면서도 실제 사용자와 유사한 행동 패턴과 선호도를 모델링하여 UX 리서치, 마케팅 전략 수립, AI 모델 훈련 등 다양한 분야에 활용될 수 있습니다.

<img width="905" height="957" alt="스크린샷 2025-08-11 오후 1 32 00" src="https://github.com/user-attachments/assets/f4a33d03-6b8d-46f6-8d04-82b422741683" />
<img width="1920" height="958" alt="스크린샷 2025-08-11 오후 1 31 39" src="https://github.com/user-attachments/assets/5849da72-834d-453a-96ec-aeb64115bacf" />



## ✨ 주요 기능

-   **다층 페르소나 생성**: 인구통계학적 기초 데이터(나이, 성별, 지역, 직업, 교육 수준)를 기반으로 심리적 속성(성격, 가치관, 라이프스타일)과 행동 패턴(구매 행동, 미디어 소비)을 생성합니다.
-   **한국적 특성 반영**: 한국 통계청 데이터를 기반으로 한 인구통계학적 분포, 세대별 가치관, 지역별 특색, 한국 특유의 사회적 관계 및 소비/미디어 행태 등 문화적 뉘앙스를 반영하여 현실성 있는 페르소나를 생성합니다.
-   **데이터베이스 저장**: 생성된 페르소나 데이터를 SQLite 데이터베이스에 저장하고 관리합니다.
-   **RESTful API**: 페르소나 생성 및 검색을 위한 API 엔드포인트를 제공합니다.

## 🏗️ 아키텍처

프로젝트는 다음과 같은 주요 구성 요소로 이루어져 있습니다.

-   `persona_generator.py`: 페르소나의 인구통계학적, 심리적, 행동적 특성을 생성하고 한국 문화적 뉘앙스를 적용하는 핵심 로직을 담당합니다.
-   `database.py`: SQLite를 사용하여 페르소나 데이터를 저장하고 검색하는 기능을 제공합니다. SQLite 예약어 충돌을 피하기 위해 `values` 컬럼명을 `persona_values`로 변경했습니다.
-   `api.py`: Flask 기반의 RESTful API 서버로, 페르소나 생성, 검색, 개별 페르소나 조회, 모든 페르소나 삭제 기능을 제공합니다.
-   `main.py`: 프로그램의 진입점으로, Flask 서버를 시작하고 대규모 데이터 생성에 대한 안내 메시지를 출력합니다.

## ⚙️ 실행 방법

### 1. 필요한 라이브러리 설치

```bash
pip install Flask
```

### 2. 프로그램 실행

```bash
python main.py
```

서버는 기본적으로 `http://127.0.0.1:5050` 포트에서 실행됩니다.

## 🌐 API 엔드포인트

### 1. 페르소나 생성

-   **URL**: `/api/personas/generate`
-   **메서드**: `POST`
-   **설명**: 지정된 수만큼 페르소나를 생성하고 데이터베이스에 저장합니다.
-   **요청 본문 예시**:

    ```json
    {
        "count": 5,
        "demographics": {
            "age_range": [20, 30],
            "gender": "여성",
            "location": "부산"
        }
    }
    ```

### 2. 페르소나 검색

-   **URL**: `/api/personas/search`
-   **메서드**: `GET`
-   **설명**: 필터 조건에 맞는 페르소나를 검색하여 반환합니다.
-   **쿼리 파라미터 예시**:

    ```
    ?age_min=25&location=서울&interests=여행
    ```

### 3. 특정 페르소나 조회

-   **URL**: `/api/personas/<persona_id>`
-   **메서드**: `GET`
-   **설명**: 특정 `persona_id`를 가진 페르소나 정보를 반환합니다.

### 4. 모든 페르소나 삭제

-   **URL**: `/api/personas/delete_all`
-   **메서드**: `POST`
-   **설명**: 데이터베이스에 저장된 모든 페르소나 데이터를 삭제합니다.

## ⚠️ 대규모 데이터 생성 (5천만 명) 관련

현재 구현된 시스템은 개별 페르소나의 정확성과 다양성을 높이는 데 중점을 두었습니다. 하지만 5천만 명과 같은 대규모 데이터를 생성하고 관리하는 것은 현재의 SQLite 및 단일 프로세스 환경에서는 다음과 같은 이유로 매우 어렵습니다.

-   **성능 제약**: 단일 프로세스로 5천만 건을 생성하고 SQLite에 저장하는 것은 엄청난 시간과 메모리, 디스크 I/O를 요구합니다.
-   **확장성 부족**: SQLite는 대규모 동시 접근이나 분산 처리에 적합하지 않습니다.

**향후 확장 전략:**

만약 실제로 5천만 명의 페르소나 데이터를 생성해야 한다면, 다음과 같은 확장성 전략을 고려해야 합니다.

1.  **분산 데이터베이스 시스템 사용**: PostgreSQL, Cassandra, MongoDB와 같은 대규모 데이터 처리에 적합한 데이터베이스를 사용해야 합니다.
2.  **배치 처리 및 비동기 처리 도입**: 데이터를 한 번에 대량으로 처리하고, 생성 및 저장 작업을 비동기적으로 수행하여 효율성을 높여야 합니다.
3.  **클라우드 기반 분산 컴퓨팅 환경 활용**: AWS Lambda, Kubernetes, Apache Spark와 같은 클라우드 서비스를 활용하여 여러 서버에서 병렬로 페르소나를 생성하고 저장하는 파이프라인을 구축해야 합니다.
4.  **LLM 연동 시 고려사항**: `reference.txt`에서 언급된 LLM 기반 생성 파이프라인을 도입할 경우, LLM API 호출 비용, 속도, 그리고 응답의 일관성 및 편향 제어에 대한 추가적인 고려가 필요합니다.
