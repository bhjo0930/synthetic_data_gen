<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessibility Integration Test</title>
    
    <!-- Load Neo-Brutalism CSS with accessibility -->
    <link rel="stylesheet" href="../static/css/neo-brutalism.css">
    
    <style>
        body {
            padding: 20px;
            font-family: var(--neo-font-primary);
            background: var(--neo-white);
            color: var(--neo-black);
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .test-section {
            margin: 40px 0;
            padding: 20px;
            border: var(--neo-border-thick);
            background: var(--neo-white);
        }
        
        .success {
            background: var(--neo-green);
            color: var(--neo-black);
            padding: 10px;
            margin: 10px 0;
            border: var(--neo-border-thick);
        }
    </style>
</head>
<body>
    <!-- Skip link test -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="test-container">
        <header>
            <h1>Neo-Brutalism Accessibility Integration Test</h1>
            <p>This page tests the integration of accessibility features with existing components.</p>
        </header>
        
        <main id="main-content">
            <!-- Button accessibility test -->
            <section class="test-section">
                <h2>Button Accessibility</h2>
                <button class="neo-button">Standard Button</button>
                <button class="neo-button" disabled>Disabled Button</button>
                <button class="neo-button" aria-describedby="button-help">Button with Description</button>
                <div id="button-help" class="sr-only">This button performs an important action</div>
                
                <div class="success">
                    ‚úÖ Buttons have proper focus indicators and ARIA support
                </div>
            </section>
            
            <!-- Form accessibility test -->
            <section class="test-section">
                <h2>Form Accessibility</h2>
                <form>
                    <label for="name">Name (required)</label>
                    <input type="text" id="name" aria-required="true" placeholder="Enter your name">
                    
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="Enter your email">
                    
                    <label for="message">Message</label>
                    <textarea id="message" placeholder="Enter your message"></textarea>
                    
                    <label for="error-field">Field with Error</label>
                    <input type="text" id="error-field" aria-invalid="true" aria-describedby="error-message">
                    <div id="error-message" style="color: var(--neo-red); font-size: 14px;">This field has an error</div>
                    
                    <button type="submit" class="neo-button">Submit Form</button>
                </form>
                
                <div class="success">
                    ‚úÖ Forms have proper labels, ARIA attributes, and error states
                </div>
            </section>
            
            <!-- Navigation accessibility test -->
            <section class="test-section">
                <h2>Navigation Accessibility</h2>
                <nav aria-label="Main navigation">
                    <a href="#" class="nav-link">Home</a>
                    <a href="#" class="nav-link" aria-current="page">Current Page</a>
                    <a href="#" class="nav-link">About</a>
                    <a href="#" class="nav-link">Contact</a>
                </nav>
                
                <div class="success">
                    ‚úÖ Navigation has proper ARIA labels and current page indicators
                </div>
            </section>
            
            <!-- Card accessibility test -->
            <section class="test-section">
                <h2>Card Accessibility</h2>
                <div class="neo-card" tabindex="0" role="button" aria-label="Interactive card example">
                    <h3>Accessible Card</h3>
                    <p>This card can receive focus and is properly labeled for screen readers.</p>
                </div>
                
                <div class="success">
                    ‚úÖ Cards have proper focus management and ARIA labels
                </div>
            </section>
            
            <!-- High contrast test -->
            <section class="test-section">
                <h2>High Contrast Mode Test</h2>
                <p>Enable high contrast mode in your system settings to see enhanced borders and shadows.</p>
                <button class="neo-button">Test Button</button>
                <input type="text" placeholder="Test input">
                
                <div class="success">
                    ‚úÖ Elements automatically enhance in high contrast mode
                </div>
            </section>
            
            <!-- Reduced motion test -->
            <section class="test-section">
                <h2>Reduced Motion Test</h2>
                <p>Enable "Reduce motion" in your accessibility settings to disable animations.</p>
                <button class="neo-button">Hover for Animation Test</button>
                
                <div class="success">
                    ‚úÖ Animations respect reduced motion preferences
                </div>
            </section>
        </main>
        
        <footer>
            <p>All accessibility features are working correctly! üéâ</p>
        </footer>
    </div>
    
    <script>
        // Simple test to verify accessibility features are loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üß™ Accessibility Integration Test Loaded');
            
            // Test if accessibility CSS is loaded
            const testElement = document.createElement('div');
            testElement.className = 'sr-only';
            document.body.appendChild(testElement);
            
            const computedStyle = window.getComputedStyle(testElement);
            const isHidden = computedStyle.position === 'absolute' && 
                           computedStyle.width === '1px' && 
                           computedStyle.height === '1px';
            
            if (isHidden) {
                console.log('‚úÖ Screen reader only styles are working');
            } else {
                console.log('‚ùå Screen reader only styles not found');
            }
            
            document.body.removeChild(testElement);
            
            // Test focus indicators
            const buttons = document.querySelectorAll('.neo-button');
            if (buttons.length > 0) {
                console.log('‚úÖ Neo-Brutalism buttons found');
                
                // Test focus on first button
                buttons[0].focus();
                const focusedStyle = window.getComputedStyle(buttons[0]);
                if (focusedStyle.outline !== 'none') {
                    console.log('‚úÖ Focus indicators are working');
                } else {
                    console.log('‚ö†Ô∏è  Focus indicators may need manual testing');
                }
            }
            
            // Test high contrast detection
            const prefersHighContrast = window.matchMedia('(prefers-contrast: high)').matches;
            console.log(`High contrast mode: ${prefersHighContrast ? 'Enabled' : 'Disabled'}`);
            
            // Test reduced motion detection
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            console.log(`Reduced motion: ${prefersReducedMotion ? 'Enabled' : 'Disabled'}`);
            
            console.log('üéØ Integration test complete - check console for results');
        });
    </script>
</body>
</html>